<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.what21.dao.ConsignmentDao">
	<select id="findAll" parameterType="com.what21.model.ConsignmentQueryVo" resultType="com.what21.model.JjDelivery">
		select * from jj_delivery
		order by fhtime
		LIMIT #{startPage},#{endPage}
	</select>
	
	<select id="findCount" resultType="int">
		select count(*) from jj_delivery
	</select>
	
	<select id="checkBillInPickingSku" parameterType="com.what21.model.JjDelivery" resultType="com.what21.model.JjPickingSku">
		select * from jj_picking_sku where bill=#{bill}	
	</select>
	
	<select id="checkBillInDelivery" parameterType="com.what21.model.JjDelivery" resultType="int">
		select count(*) from jj_delivery where bill=#{bill}	
	</select>
	
	<insert id="insertJjDelivery" parameterType="com.what21.model.ConsignmentQueryVo">
		insert into jj_delivery (bill,fhtime,pickname,pick) value (#{delivery.bill},#{delivery.fhtime},#{delivery.pickname},#{delivery.pick})
	</insert>
</mapper>