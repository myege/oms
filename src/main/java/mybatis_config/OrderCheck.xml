<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<mapper namespace="com.what21.dao.OrderCheckDao">
	<resultMap type="OrderCheck" id="orderCheckResultMap">
		<id property="id" column="id"/>
		<result property="totalMailNo" column="totalMailNo"/>
		<result property="pc" column="pc"/>
		<result property="createdatatime" column="createdatatime"/>
		<result property="username" column="username"/>
		<result property="userid" column="userid"/>
		
	</resultMap>
	<select id="findAll" resultMap="orderCheckResultMap" parameterType="java.util.Map">
		select * from cz_ordercheck LIMIT #{startPage},#{endPage}
	</select>
	<select id="countOrderCheck" resultType="java.lang.Integer">
		select count(1) from cz_ordercheck
	</select>
	<insert id="addO" parameterType="OrderCheck">
		INSERT INTO cz_ordercheck (totalMailNo,pc,username,userid,createdatatime) VALUES (#{totalMailNo},#{pc},#{username},#{userid},#{createdatatime})
	</insert>
	<delete id = "deleteO" parameterType="String">
		DELETE FROM cz_ordercheck WHERE id = #{id}
	</delete>
	<select id="find"  resultMap="orderCheckResultMap"  parameterType="java.util.Map">
		select * from cz_ordercheck where 1=1
		<if test="type == 1 ">
			and totalMailNo like '%${paramValue}%'
		</if>
		<if test="type == 2 ">
			and pc like '%${paramValue}%'
		</if>
		order by pc, totalMailNo 
		LIMIT #{startPage},#{endPage} 
	</select>
	<select id="count" resultType="java.lang.Integer" parameterType="java.util.Map">
		select count(1) from cz_ordercheck 
		<where>
			1=1
			<if test="type == 1">
				and totalMailNo like '%${paramValue}%'
			</if>
			<if test="type == 2">
				and pc like '%${paramValue}%'
			</if>
		</where>
	</select>
	
	<select id="findByPc" resultType="OrderCheck" parameterType="OrderCheck">
	
	select * from cz_ordercheck   where totalMailNo=#{totalMailNo} and pc=#{pc}
	
	</select>
	
	</mapper>