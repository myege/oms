<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.what21.model.Webzu">
	<resultMap type="com.what21.model.Webzu" id="WebzuResultMap">
		<id property="id" column="id"/>
		<result property="url" column="url"/>
		<result property="company" column="company"/>
		<result property="bm" column="bm"/>
		<result property="tab" column="tab"/>
		<result property="tj" column="tj"/>
		<result property="url" column="url"/>
		<result property="code" column="code"/>
		
		
		
	</resultMap>
	
	<select id="findById" parameterType="string" resultType="com.what21.model.Webzu">
		select * from webzu where code = #{_parameter}
	</select>
	
	<select id="findByElec" parameterType="com.what21.model.Webzu" statementType="STATEMENT" resultType="java.util.HashMap">
		SELECT * FROM ${tab} where ${bm} in (${tj}) 
		<if  test="itemcode !=null and itemcode !=''">
			and wmstype != 1
			AND  createDateTime &gt;= NOW() - 100000 AND createDateTime &lt;= NOW()
		</if>
	</select>
	

	
	<select id="findAll" resultType="com.what21.model.Webzu">
		select * from webzu 
		<if test="startPage!=null">
		LIMIT #{startPage},#{endPage}
		</if>
	</select>
	
	<select id="count" resultType="int">
			select count(*) from webzu
	</select>
	
	<insert id="add"  parameterType="com.what21.model.Webzu">
		insert into webzu (url,tab,bm,tj)
		values(#{url},#{tab},#{bm},#{tj})
	</insert>
	
	<delete id="delete" parameterType="int">
		delete from webzu where id = #{_parameter}
	</delete>
	
	<update id="update" parameterType="com.what21.model.Webzu">
		UPDATE webzu SET url=#{url}, tab=#{tab}, bm=#{bm}, tj=#{tj} WHERE id =#{id}
	</update>



</mapper>