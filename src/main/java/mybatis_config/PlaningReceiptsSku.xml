<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.what21.dao.PlaningReceiptsSkuDao">
	<resultMap type="PlaningReceiptsSku" id="PlaningReceiptsSkuResultMap">
		<id property="id" column="id"/>
		<result property="planingReceiptsId" column="planingReceiptsId"/>
		<result property="sourceNo" column="sourceNo"/>
		<result property="itemNo" column="itemNo"/>
		<result property="itemType" column="itemType"/>
		<result property="goodsNo" column="goodsNo"/>
		<result property="countryCode" column="countryCode"/>
		<result property="currency" column="currency"/>
		<result property="totalPrice" column="totalPrice"/>
		
		
		<result property="price" column="price"/>
		<result property="declareAmount" column="declareAmount"/>
		<result property="datatime" column="datatime"/>
		<result property="userId" column="userId"/>
		
	</resultMap>
	
	<select id="findAll" resultMap="PlaningReceiptsSkuResultMap" parameterType="java.util.Map">
		select * from wms_planing_receipts_sku where 1=1 and planingReceiptsId=#{planingReceiptsId}
		
		<if test="userId != null and userId != 0">
	 		and userId = #{userId} 
	    </if>
	    
		 LIMIT #{startPage},#{endPage}
	</select>
	
	<select id="findByPlaningReceiptsId" resultMap="PlaningReceiptsSkuResultMap" >
	
		select * from wms_planing_receipts_sku where 1=1 and planingReceiptsId=#{planingReceiptsId}
		
	</select>
	
	
	<select id="count" resultType="java.lang.Integer" >
		select count(1) from wms_planing_receipts_sku
		<where>
			planingReceiptsId=#{planingReceiptsId}
		</where>
	</select>
	
	<insert id="insert"  parameterType="PlaningReceiptsSku">
	
	insert into wms_planing_receipts_sku(planingReceiptsId,sourceNo,
	itemNo,itemType,goodsNo,countryCode,currency,totalPrice,price,declareAmount,datatime,userId)
	
	values(#{planingReceiptsId},#{sourceNo},#{itemNo},
	#{itemType},#{goodsNo},#{countryCode},#{currency},#{totalPrice},#{price},#{declareAmount},#{datatime},#{userId})
	
	</insert>
	
	</mapper>