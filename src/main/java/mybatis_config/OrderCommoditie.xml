<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.what21.dao.OrderCommoditieDao">
	<resultMap type="OrderCommoditie" id="OrderCommoditieResultMap">
		<id property="id" column="id"/>
		<result property="wmsId" column="wmsId"/>
		<result property="expressNum" column="expressNum"/>
		<result property="commoditieCode" column="commoditieCode"/>
		<result property="commoditieName" column="commoditieName"/>
		<result property="commoditieNum" column="commoditieNum"/>
		<result property="createTime" column="createTime"/>
	</resultMap>
	
	<select id="findAll" resultMap="OrderCommoditieResultMap" parameterType="java.util.Map">
		select * from t_order_commoditie where 1=1
	     <if test=" hctime1 !='' and hctime1 != null and  (hctime2 =='' or hctime2 ==null)">
	   			and createTime &gt;='{hctime1}'
	  		</if> 
	  			
	     	<if test="hctime2 !='' and hctime2 != null and (hctime1 =='' or hctime1 ==null)">
	    		and createTime &lt;='${hctime2}'
	    	</if>
		    
			<if test=" hctime1 !='' and hctime1 != null and  hctime2 !='' and hctime2 !=null">
				and createTime &gt;='${hctime1}' and createTime &lt;='${hctime2}'
			</if> 
			<if test="expressNumQuery != null and expressNumQuery != ''">
	 			and expressNum like '%${expressNumQuery}%'
	        </if> 
	        <if test="commoditieCodeQuery != null and commoditieCodeQuery != ''">
	 			and commoditieCode like '%${commoditieCodeQuery}%' 
	        </if> 
	        <if test="commoditieNameQuery != null and commoditieNameQuery !=''">
	 			and commoditieName like '%${commoditieNameQuery}%' 
	        </if> 
			order by createTime 
			LIMIT ${startPage},${endPage} 
	</select>
	
	<select id="count" resultType="java.lang.Integer" parameterType="java.util.Map">
		select count(1) from t_order_commoditie where 1=1
	     <if test=" hctime1 !='' and hctime1 != null and  (hctime2 =='' or hctime2 ==null)">
	   			and createTime &gt;='${hctime1}'
	  		</if> 
	  			
	     	<if test="hctime2 !='' and hctime2 != null and (hctime1 =='' or hctime1 ==null)">
	    		and createTime &lt;='${hctime2}'
	    	</if>
		    
			<if test=" hctime1 !='' and hctime1 != null and  hctime2 !='' and hctime2 !=null">
				and createTime &gt;='${hctime1}' and createTime &lt;='${hctime2}'
			</if> 
			<if test="expressNumQuery != null and expressNumQuery != ''">
	 			and expressNum like '%${expressNumQuery}%'
	        </if> 
	        <if test="commoditieCodeQuery != null and commoditieCodeQuery != ''">
	 			and commoditieCode like '%${commoditieCodeQuery}%' 
	        </if> 
	        <if test="commoditieNameQuery != null and commoditieNameQuery !=''">
	 			and commoditieName like '%${commoditieNameQuery}%' 
	        </if> 
	</select>
	
	<select id="findeXport" resultMap="OrderCommoditieResultMap">
	     select * from t_order_commoditie where id = #{id}
	</select>
	
	<select id="dateTime" resultMap="OrderCommoditieResultMap" parameterType="java.util.Map">
		select * from t_order_commoditie where 1=1
	     <if test=" hctime1 !='' and hctime1 != null and  (hctime2 =='' or hctime2 ==null)">
	   			and createTime &gt;='${hctime1}'
	  		</if> 
	  			
	     	<if test="hctime2 !='' and hctime2 != null and (hctime1 =='' or hctime1 ==null)">
	    		and createTime &lt;='${hctime2}'
	    	</if>
			<if test=" hctime1 !='' and hctime1 != null and  hctime2 !='' and hctime2 !=null">
				and createTime &gt;='${hctime1}' and createTime &lt;='${hctime2}'
			</if> 
			<if test="expressNumQuery != null and expressNumQuery != ''">
	 			and expressNum like '%${expressNumQuery}%'
	        </if> 
	        <if test="commoditieCodeQuery != null and commoditieCodeQuery != ''">
	 			and commoditieCode like '%${commoditieCodeQuery}%' 
	        </if> 
	        <if test="commoditieNameQuery != null and commoditieNameQuery !=''">
	 			and commoditieName like '%${commoditieNameQuery}%' 
	        </if> 
	</select>
</mapper>